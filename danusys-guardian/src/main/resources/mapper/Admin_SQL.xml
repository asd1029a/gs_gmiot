<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="admin">
	<resultMap type="com.danusys.web.guardian.model.LoginVO" id="adminMap">
		<result property="id" column="ID" />
		<result property="pwd" column="PWD" />
		<result property="name" column="NAME" />
	</resultMap>
<!--	<resultMap type="EgovMap" id="egovMap" />-->


	<select id="selectLogin" parameterType="HashMap" resultMap="adminMap">
		<![CDATA[
			SELECT
				A.ID
				, A.PWD
				, A.NAME
				, A.MEDIAAUTHORITY
				, A.AUTHORITY AS authority
				, B.GRP_ID AS grpId
				, B.LVL AS grplvl
			FROM admin A
			LEFT OUTER JOIN CM_ORGNZ B
			ON A.GRP_ID = B.GRP_ID
			WHERE  USE_TY_CD = 'Y'
			AND	id = #{id}
			AND pwd = #{pwd}
		]]>
	</select>

	<select id="selectUserById" parameterType="HashMap" resultMap="adminMap">
		<![CDATA[
			SELECT
				A.ID
				, A.PWD
				, A.NAME
				, A.MEDIAAUTHORITY
				, A.AUTHORITY AS authority
				, B.GRP_ID AS grpId
				, B.LVL AS grplvl
				,C.LOGIN_BG_TIT AS loginBgTit
				,C.LOGIN_BG_TIT_SUB AS loginBgTitSub
				,C.LOGIN_BG AS loginBg
				,C.INTRO_TIT AS introTit
				,C.INTRO_BG_TIT AS introBgTit
				,C.INTRO_BG_TIT_SUB AS introBgTitSub
				,INTRO_BG_1 AS introBg1
				,INTRO_BG_2 AS introBg2
				,INTRO_BG_3 AS introBg3
			FROM admin A
			LEFT OUTER JOIN CM_ORGNZ B
			ON A.GRP_ID = B.GRP_ID
			, DISPLAY_SET C
			WHERE  USE_TY_CD = 'Y'
			AND	id = #{id}
		]]>
	</select>

	<select id="selectDisplaySet" parameterType="map" resultType="com.danusys.web.guardian.common.util.EgovMap">
		SELECT LOGIN_BG_TIT
			, LOGIN_BG_TIT_SUB
			, LOGIN_BG
			, INTRO_TIT
			, INTRO_BG_TIT
			, INTRO_BG_TIT_SUB
			, INTRO_BG_1
			, INTRO_BG_2
			, INTRO_BG_3
		FROM DISPLAY_SET
	</select>
	
<!--	<update id="saveDisplaySet" parameterType="map">-->
<!--		INSERT INTO DISPLAY_SET (-->
<!--			NO,-->
<!--			LOGIN_BG_TIT,-->
<!--			LOGIN_BG_TIT_SUB,-->
<!--			LOGIN_BG,-->
<!--			INTRO_TIT,-->
<!--			INTRO_BG_TIT,-->
<!--			INTRO_BG_TIT_SUB,-->
<!--			INTRO_BG_1,-->
<!--			INTRO_BG_2,-->
<!--			INTRO_BG_3-->
<!--		) VALUES-->
<!--		(-->
<!--			1,-->
<!--			#{loginBgTit},-->
<!--			#{loginBgTitSub},-->
<!--			#{loginBg},-->
<!--			#{introTit},-->
<!--			#{introBgTit},-->
<!--			#{introBgTitSub},-->
<!--			#{introBg1},-->
<!--			#{introBg2},-->
<!--			#{introBg3}-->
<!--		 ) ON CONFLICT-->
<!--		 (NO)-->
<!--		 DO UPDATE SET-->
<!--		 	LOGIN_BG_TIT = #{loginBgTit},-->
<!--			LOGIN_BG_TIT_SUB = #{loginBgTitSub},-->
<!--			LOGIN_BG = #{loginBg},-->
<!--			INTRO_TIT = #{introTit},-->
<!--			INTRO_BG_TIT = #{introBgTit},-->
<!--			INTRO_BG_TIT_SUB = #{introBgTitSub},-->
<!--			INTRO_BG_1 = #{introBg1},-->
<!--			INTRO_BG_2 = #{introBg2},-->
<!--			INTRO_BG_3 = #{introBg3}-->
<!--	</update>-->
</mapper>
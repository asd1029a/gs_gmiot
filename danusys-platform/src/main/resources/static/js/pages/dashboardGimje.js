const dashboardGimje = {
    init: () => {
        dashboardGimje.create();

        dashboardGimje.interval(() => {
            dashboardGimje.getDronCabinetStatus({}, (result) => {
                dashboardGimje.createDronCabinetStatus(result);
            });

            dashboardGimje.getCabinetRank({}, (result) => {
                dashboardGimje.createCabinetRank(result);
            });
        }, 60000); //60000

        //대시보드 맵
        // $.each($('.dashboard_section .map_wrap'), (i,v) => {
        //    const id = $(v).attr('id');
        dashboardGimje.createMap('viewMap');
        //});
    }
    , isValidCnt: (value) => {
        return value === '' || value == null || value === 0 || value === undefined ? '-' : value;
    }
    , interval: (callback, interval) => {
        return this.setTimeoutId = setTimeout(function() {
            callback();
            dashboardGimje.interval(callback, interval);
        }, interval);
    }
    , create: () => {
        dashboardGimje.getDronCabinetStatus({}, (result) => {
            dashboardGimje.createDronCabinetStatus(result);
        });

        dashboardGimje.getCabinetRank({}, (result) => {
            dashboardGimje.createCabinetRank(result);
        });
    }
    , getDronCabinetStatus: (param, pCallback) => {
        $.ajax({
            url : "/dashboard/getDronCabinetStatus"
            , type : "POST"
            , data : JSON.stringify(param)
            , contentType : "application/json; charset=utf-8"
            , async : false
        }).done((result) => {
            pCallback(result.data);
        }).fail((result)=> {

        });
    }
    , createDronCabinetStatus: (pObj) => {
        $.each(pObj, (idx, obj) => {
            $('#dronStatus1 p.value').html(dashboardGimje.isValidCnt(obj.flyCnt)+'<span>개</span>');
            $('#dronStatus2 p.value').html(dashboardGimje.isValidCnt(obj.fireCnt)+'<span>건</span>');
            $('#cabinetStatus1 ul.count').html(
                '<li>'+dashboardGimje.isValidCnt(obj.oamDangerCnt)+'<span>누설전류</span></li>'
                +'<li>'+dashboardGimje.isValidCnt(obj.amnDangerCnt)+'<span>과전류</span></li>');
            $('#cabinetStatus2 ul.count').html(
                '<li>'+dashboardGimje.isValidCnt(obj.oamWarnCnt)+'<span>누설전류</span></li>'
                +'<li>'+dashboardGimje.isValidCnt(obj.amnWarnCnt)+'<span>과전류</span></li>');
        });
    }
    , getCabinetRank:(param, pCallback) => {
        $.ajax({
            url : "/dashboard/getCabinetRank"
            , type : "POST"
            , data : JSON.stringify(param)
            , contentType : "application/json; charset=utf-8"
            , async : false
        }).done((result) => {
            pCallback(result.data);
        }).fail((result)=> {

        });
    }
    , createCabinetRank:(pObj) => {
        const $target = $("#cabinetRank");
        $target.html("");
        let targetHtml = "";
        $.each(pObj, (idx, obj) => {
            targetHtml +=
                '<div class="pole_list">' +
                '<p>'+(idx+1)+'. '+obj.facilityName+'</p>' +
                '<ul class="list_info">' +
                '<li><span>전력량</span>'+obj.watTot+'<span>kWh</span></li>' +
                '<li><span>누설전류</span>'+obj.amnStatus+'</li>' +
                '<li><span>과전류</span>'+obj.oamStatus+'</li>' +
                '<li><span>허용대비</span>'+obj.amUse+'<span>%</span></li>' +
                '</ul>' +
                '</div>';
        });
        $target.append(targetHtml);
    }
    , createMap : (type) => {
        let map = new mapCreater(type, 0, $("#sigunCode").val());

        //TODO 유동인구 log 실 data
        let result = {"type":"FeatureCollection","features":[{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event1","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 13:47:20.115872","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":58,"eventStartDt":"2022-03-23 13:47:20.115872","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event2","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 13:46:45.321347","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":56,"eventStartDt":"2022-03-23 13:46:45.321347","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event3","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 13:42:35.75623","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":50,"eventStartDt":"2022-03-23 13:42:35.75623","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event4","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 12:05:09.441115","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":37,"eventStartDt":"2022-03-23 12:05:09.441115","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event5","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-23 09:07:53.241537","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":29,"eventStartDt":"2022-03-23 09:07:53.241537","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event6","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 16:49:08.871186","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":27,"eventStartDt":"2022-03-22 16:49:08.871186","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event7","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 16:34:51.446981","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":25,"eventStartDt":"2022-03-22 16:34:51.446981","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event8","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 15:51:32.84241","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":13,"eventStartDt":"2022-03-22 15:51:32.84241","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event9","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 15:44:55.096856","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":11,"eventStartDt":"2022-03-22 15:44:55.096856","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event10","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:43:35.759816","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":84,"eventStartDt":"2022-03-29 15:43:35.759816","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event11","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:09:17.897052","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":64,"eventStartDt":"2022-03-29 15:09:17.897052","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event12","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:22:49.434325","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":70,"eventStartDt":"2022-03-29 15:22:49.434325","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event13","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:36:46.02353","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":76,"eventStartDt":"2022-03-29 15:36:46.02353","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event14","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:10:09.635201","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":66,"eventStartDt":"2022-03-29 15:10:09.635201","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event15","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:12:09.051309","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":68,"eventStartDt":"2022-03-29 15:12:09.051309","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event16","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:28:54.050451","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":72,"eventStartDt":"2022-03-29 15:28:54.050451","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event17","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:38:30.936353","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":78,"eventStartDt":"2022-03-29 15:38:30.936353","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event18","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:29:01.046222","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":74,"eventStartDt":"2022-03-29 15:29:01.046222","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event19","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:38:51.413218","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":80,"eventStartDt":"2022-03-29 15:38:51.413218","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event20","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-29 15:39:39.343616","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":82,"eventStartDt":"2022-03-29 15:39:39.343616","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.70033715752935,37.33738166839028]},"id":"event21","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-04-06 08:47:20.0","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":37.33738166839028,"stationSeq":888,"eventProcStat":"1","administZone":"41390132","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":57,"eventStartDt":"2022-04-06 08:47:20.0","eventKindName":"누설 전류","longitude":126.70033715752935}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event22","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-04-06 09:36:20.0","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":62,"eventStartDt":"2022-04-06 09:36:20.0","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event23","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"누설전류  경고","insertDt":"2022-03-23 13:53:10.838751","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":61,"eventStartDt":"2022-03-23 13:53:10.838751","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event24","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 13:40:35.010896","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":48,"eventStartDt":"2022-03-23 13:40:35.010896","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event25","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 13:38:51.959306","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":46,"eventStartDt":"2022-03-23 13:38:51.959306","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event26","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-23 12:08:23.620164","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":44,"eventStartDt":"2022-03-23 12:08:23.620164","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event27","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 12:08:08.561399","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":42,"eventStartDt":"2022-03-23 12:08:08.561399","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event28","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-23 12:05:17.200125","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":40,"eventStartDt":"2022-03-23 12:05:17.200125","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event29","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 10:04:41.741758","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":36,"eventStartDt":"2022-03-23 10:04:41.741758","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event30","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-23 09:30:39.561412","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":32,"eventStartDt":"2022-03-23 09:30:39.561412","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event31","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 16:49:08.871186","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":28,"eventStartDt":"2022-03-22 16:49:08.871186","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event32","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 16:34:51.446981","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":26,"eventStartDt":"2022-03-22 16:34:51.446981","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event33","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 15:51:32.84241","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":14,"eventStartDt":"2022-03-22 15:51:32.84241","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event34","geometry_name":"geom","type":"Feature","properties":{"insertDt":"2022-03-22 15:44:55.096856","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":12,"eventStartDt":"2022-03-22 15:44:55.096856","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event35","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-25 09:36:20.185617","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":63,"eventStartDt":"2022-03-25 09:36:20.185617","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event36","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:22:49.434325","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":71,"eventStartDt":"2022-03-29 15:22:49.434325","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event37","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:12:09.051309","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":69,"eventStartDt":"2022-03-29 15:12:09.051309","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event38","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:10:09.635201","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":67,"eventStartDt":"2022-03-29 15:10:09.635201","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event39","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:09:17.897052","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":65,"eventStartDt":"2022-03-29 15:09:17.897052","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event40","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:38:30.936353","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":79,"eventStartDt":"2022-03-29 15:38:30.936353","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event41","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:36:46.02353","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":77,"eventStartDt":"2022-03-29 15:36:46.02353","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event42","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:29:01.046222","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":75,"eventStartDt":"2022-03-29 15:29:01.046222","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event43","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:28:54.050451","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":73,"eventStartDt":"2022-03-29 15:28:54.050451","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event44","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:43:35.759816","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":85,"eventStartDt":"2022-03-29 15:43:35.759816","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event45","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:39:39.343616","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":83,"eventStartDt":"2022-03-29 15:39:39.343616","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event46","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-29 15:38:51.413218","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":81,"eventStartDt":"2022-03-29 15:38:51.413218","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event47","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 13:46:35.000011","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"조치중","latitude":35.80437063,"stationSeq":893,"eventProcStat":"2","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":54,"eventStartDt":"2022-03-23 13:46:35.000011","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event48","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"초과","insertDt":"2022-03-23 12:05:09.441115","administZoneName":"서암동","eventGrade":"20","eventProcStatName":"조치 완료","latitude":35.80437063,"stationSeq":893,"eventProcStat":"3","administZone":"45210107","facilitySeq":2226,"eventKind":"OVER_ERCRT","eventGradeName":"주의","eventSeq":38,"eventStartDt":"2022-03-23 12:05:09.441115","eventKindName":"과전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event49","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"누설전류  경고","insertDt":"2022-03-23 13:49:43.320139","administZoneName":"서암동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2226,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":60,"eventStartDt":"2022-03-23 13:49:43.320139","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event50","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"누설전류  경고","insertDt":"2022-03-23 13:48:45.50031","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":59,"eventStartDt":"2022-03-23 13:48:45.50031","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event51","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 13:46:45.321347","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":55,"eventStartDt":"2022-03-23 13:46:45.321347","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event52","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 13:46:35.000011","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":53,"eventStartDt":"2022-03-23 13:46:35.000011","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event53","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 13:42:59.620712","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":51,"eventStartDt":"2022-03-23 13:42:59.620712","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event54","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 13:42:35.75623","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":49,"eventStartDt":"2022-03-23 13:42:35.75623","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event55","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 13:38:51.959306","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":45,"eventStartDt":"2022-03-23 13:38:51.959306","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event56","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 12:08:23.620164","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":43,"eventStartDt":"2022-03-23 12:08:23.620164","eventKindName":"누설 전류","longitude":126.88041901}},{"geometry":{"type":"Point","coordinates":[126.88041901,35.80437063]},"id":"event57","geometry_name":"geom","type":"Feature","properties":{"eventMessage":"30mA 초과","insertDt":"2022-03-23 12:08:08.561399","administZoneName":"교동","eventGrade":"10","eventProcStatName":"미처리","latitude":35.80437063,"stationSeq":893,"eventProcStat":"1","administZone":"45210107","facilitySeq":2227,"eventKind":"LKGE_ERCRT","eventGradeName":"긴급","eventSeq":41,"eventStartDt":"2022-03-23 12:08:08.561399","eventKindName":"누설 전류","longitude":126.88041901}}]};

        let featureSource = new ol.source.Vector ({
            features: new ol.format.GeoJSON().readFeatures(result, {
                dataProjection: "EPSG:4326"
                , featureProjection: "EPSG:5181"
            })
        });

        let layer = new ol.layer.Vector({
                title : 'positionLayer',
                source: featureSource,
                style:  new ol.style.Style({
                    image: new ol.style.Circle({
                        radius:10,
                        stroke: new ol.style.Stroke({
                            color: 'white',
                            width: 2,
                        }),
                        fill: new ol.style.Fill({
                            color: '#CC6565'
                        })
                    })
                })
            });

        const fitExtent = featureSource.getExtent();

        map.addLayer(layer);
        map.map.getView().fit(fitExtent, map.map.getSize());
        map.map.getView().setZoom(map.map.getView().getZoom() - 0.5);

        window[type] = map;
    }
}